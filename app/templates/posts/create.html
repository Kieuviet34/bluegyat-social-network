{% extends "layout/base.html" %}

{% block title %}New Post - BlueGyat{% endblock %}

{% block content %}
  {% include "layout/header.html" %}

  <div class="container" style="max-width: 600px;">
    <h2 class="mt-4 mb-4">Create a New Post</h2>

    <!-- Flash messages -->
    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        {% for category, msg in messages %}
          <div class="alert alert-{{ category }} alert-dismissible fade show" role="alert">
            {{ msg }}
            <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
          </div>
        {% endfor %}
      {% endif %}
    {% endwith %}

    <form method="post" action="{{ url_for('posts.create_post') }}">
      <div class="mb-3">
        <label for="content" class="form-label">Content</label>
        <textarea
          class="form-control"
          id="content"
          name="content"
          rows="4"
          placeholder="What's on your mind?"
          required
        ></textarea>
      </div>
      <div class="mb-3">
        <label for="media_url" class="form-label">Media URL (optional)</label>
        <input
          type="url"
          class="form-control"
          id="media_url"
          name="media_url"
          placeholder="https://example.com/image.jpg"
        >
      </div>
      <div class="d-grid">
        <button type="submit" class="btn btn-primary">Post</button>
      </div>
    </form>
  </div>

  {% include "layout/footer.html" %}
{% endblock %}
